import woo.std;
import test_tool;

namespace test_while
{
    func fib(var n:int)
    {
        if (n <= 2)
            return 1;
        return fib(n-1) + fib(n-2);
    }

    func main()
    {
        var i = 0;
        var n = 0;
        while (i < 100_0000)
        {
                n += 1;
                i+=1;
        }

        test_equal(n, 100_0000);

        var tm_beg = std::time();

        for(var i=0;i<=40;i+=1)
            std::println("fib(", i, ")=", fib(i));

        var tm_end = std::time();
        std::println("fib40 cost:", tm_end-tm_beg);

        var t = [("Hello", "world")];
        for (var (a, b) : t)
        {
            test_assure(a+b == "Helloworld");
        }
    }
}

test_function("test_while.main", test_while::main);